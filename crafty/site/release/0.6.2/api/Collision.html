---
layout: default
---

<div id='doc-nav'><ul id='doc-level-one'><li><a href='events.html'>List of Events</a></li><li>Core<ul><li><a href='Crafty.html'>Crafty</a></li><li><a href='Crafty Core.html'>Crafty Core</a></li><li><a href='Crafty-extend.html'>Crafty.extend</a></li><li><a href='Crafty-init.html'>Crafty.init</a></li><li><a href='Crafty-getVersion.html'>Crafty.getVersion</a></li><li><a href='Crafty-stop.html'>Crafty.stop</a></li><li><a href='Crafty-pause.html'>Crafty.pause</a></li><li><a href='Crafty-isPaused.html'>Crafty.isPaused</a></li><li><a href='Crafty-e.html'>Crafty.e</a></li><li><a href='Crafty-c.html'>Crafty.c</a></li><li><a href='Crafty-trigger.html'>Crafty.trigger</a></li><li><a href='Crafty-bind.html'>Crafty.bind</a></li><li><a href='Crafty-uniqueBind.html'>Crafty.uniqueBind</a></li><li><a href='Crafty-one.html'>Crafty.one</a></li><li><a href='Crafty-unbind.html'>Crafty.unbind</a></li><li><a href='Crafty-frame.html'>Crafty.frame</a></li><li><a href='Crafty-settings.html'>Crafty.settings</a></li><li><a href='Crafty-clone.html'>Crafty.clone</a></li><li><a href='Crafty-support.html'>Crafty.support</a></li><li><a href='Crafty-stage.html'>Crafty.stage</a></li></ul></li><li>Game Loop<ul><li><a href='Crafty-timer.html'>Crafty.timer</a></li></ul></li><li>Events<ul><li><a href='Crafty-trigger.html'>Crafty.trigger</a></li><li><a href='Crafty-bind.html'>Crafty.bind</a></li><li><a href='Crafty-uniqueBind.html'>Crafty.uniqueBind</a></li><li><a href='Crafty-one.html'>Crafty.one</a></li><li><a href='Crafty-unbind.html'>Crafty.unbind</a></li><li><a href='Crafty-addEvent.html'>Crafty.addEvent</a></li><li><a href='Crafty-removeEvent.html'>Crafty.removeEvent</a></li></ul></li><li>2D<ul><li><a href='Crafty-HashMap.html'>Crafty.HashMap</a></li><li><a href='Crafty-map.html'>Crafty.map</a></li><li><a href='2D.html'>2D</a></li><li><a href='Gravity.html'>Gravity</a></li><li><a href='Crafty-polygon.html'>Crafty.polygon</a></li><li><a href='Crafty-circle.html'>Crafty.circle</a></li><li><a href='Collision.html'>Collision</a></li><li><a href='Crafty-isometric.html'>Crafty.isometric</a></li><li><a href='Crafty-diamondIso.html'>Crafty.diamondIso</a></li><li><a href='Crafty-math.html'>Crafty.math</a></li><li><a href='Crafty-math.Vector2D.html'>Crafty.math.Vector2D</a></li><li><a href='Crafty-math.Matrix2D.html'>Crafty.math.Matrix2D</a></li></ul></li><li>Scenes<ul><li><a href='Crafty-scene.html'>Crafty.scene</a></li></ul></li><li>Stage<ul><li><a href='Crafty-scene.html'>Crafty.scene</a></li><li><a href='Crafty-background.html'>Crafty.background</a></li><li><a href='Crafty-viewport.html'>Crafty.viewport</a></li></ul></li><li>Graphics<ul><li><a href='DOM.html'>DOM</a></li><li><a href='Crafty-DOM.html'>Crafty.DOM</a></li><li><a href='HTML.html'>HTML</a></li><li><a href='Crafty-background.html'>Crafty.background</a></li><li><a href='Crafty-sprite.html'>Crafty.sprite</a></li><li><a href='Sprite.html'>Sprite</a></li><li><a href='Canvas.html'>Canvas</a></li><li><a href='Crafty-canvas.html'>Crafty.canvas</a></li><li><a href='Color.html'>Color</a></li><li><a href='Tint.html'>Tint</a></li><li><a href='Image.html'>Image</a></li><li><a href='Crafty-toRGB.html'>Crafty.toRGB</a></li><li><a href='Crafty-DrawManager.html'>Crafty.DrawManager</a></li><li><a href='Crafty-pixelart.html'>Crafty.pixelart</a></li><li><a href='Particles.html'>Particles</a></li><li><a href='Text.html'>Text</a></li></ul></li><li>Utilities<ul><li><a href='Storage.html'>Storage</a></li><li><a href='Delay.html'>Delay</a></li></ul></li><li>Misc<ul><li><a href='Crafty-support.html'>Crafty.support</a></li><li><a href='Crafty-addEvent.html'>Crafty.addEvent</a></li><li><a href='Crafty-removeEvent.html'>Crafty.removeEvent</a></li><li><a href='Crafty-device.html'>Crafty.device</a></li></ul></li><li>Input<ul><li><a href='Crafty-keydown.html'>Crafty.keydown</a></li><li><a href='Crafty-mouseDispatch.html'>Crafty.mouseDispatch</a></li><li><a href='Crafty-touchDispatch.html'>Crafty.touchDispatch</a></li><li><a href='KeyboardEvent.html'>KeyboardEvent</a></li><li><a href='Crafty-eventObject.html'>Crafty.eventObject</a></li><li><a href='Mouse.html'>Mouse</a></li><li><a href='Draggable.html'>Draggable</a></li><li><a href='Keyboard.html'>Keyboard</a></li><li><a href='Multiway.html'>Multiway</a></li><li><a href='Fourway.html'>Fourway</a></li><li><a href='Twoway.html'>Twoway</a></li><li><a href='Crafty-keys.html'>Crafty.keys</a></li><li><a href='Crafty-mouseButtons.html'>Crafty.mouseButtons</a></li></ul></li><li>Animation<ul><li><a href='Tween.html'>Tween</a></li><li><a href='SpriteAnimation.html'>SpriteAnimation</a></li></ul></li><li>Audio<ul><li><a href='Crafty-audio.html'>Crafty.audio</a></li></ul></li><li>Assets<ul><li><a href='Crafty-assets.html'>Crafty.assets</a></li><li><a href='Crafty-asset.html'>Crafty.asset</a></li><li><a href='Crafty-image_whitelist.html'>Crafty.image_whitelist</a></li><li><a href='Crafty-loader.html'>Crafty.loader</a></li><li><a href='Crafty-modules.html'>Crafty.modules</a></li></ul></li><li>Debug<ul><li><a href='DebugCanvas.html'>DebugCanvas</a></li><li><a href='DebugRectangle.html'>DebugRectangle</a></li><li><a href='VisibleMBR.html'>VisibleMBR</a></li><li><a href='DebugPolygon.html'>DebugPolygon</a></li><li><a href='WiredHitBox.html'>WiredHitBox</a></li><li><a href='SolidHitBox.html'>SolidHitBox</a></li></ul></li></ul></div>
<div id='doc-content' class='api'><h1>Collision</h1>
<p>Component to detect collision between any two convex polygons.</p>
<div class='doc-contents'><h4>Properties and Methods</h4><ul><li><a href='#-init'>.init</a></li><li><a href='#-collision'>.collision</a></li><li><a href='#-hit'>.hit</a></li><li><a href='#-onHit'>.onHit</a></li></ul></div>

<div id='-init' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>.init</h2>
<p>Create a rectangle polygon based on the x, y, w, h dimensions.</p>
<p>By default, the collision hitbox will match the dimensions (x, y, w, h) and rotation of the object.</p>


<p></div></p>
<div id='-collision' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>.collision</h2>
<p><code>public this .collision([Crafty.polygon polygon])</code> </p>
<dl>
<dt>polygon</dt><dd>Crafty.polygon object that will act as the hit area</dd>
</dl>

<p><code>public this .collision(Array point1, .., Array pointN)</code> </p>
<dl>
<dt>point#</dt><dd>Array with an <code>x</code> and <code>y</code> position to generate a polygon</dd>
</dl>

<p>Constructor takes a polygon or array of points to use as the hit area.</p>
<p>The hit area (polygon) must be a convex shape and not concave
for the collision detection to work.</p>
<p>Points are relative to the object&#39;s position and its unrotated state.</p>
<p>If no parameter is passed, the x, y, w, h properties of the entity will be used, and the hitbox will be resized when the entity is.</p>
<p>If a hitbox is set that is outside of the bounds of the entity itself, there will be a small performance penalty as it is tracked separately.</p>
<h4> Example </h4>

<pre><code>Crafty.e(&quot;2D, Collision&quot;).collision(
    new Crafty.polygon([50,0], [100,100], [0,100])
);

Crafty.e(&quot;2D, Collision&quot;).collision([50,0], [100,100], [0,100]);</code></pre>

<p><h4>Events</h4></p>
<p><dl><dt><span class='event-name'>NewHitbox</span> [<span class='event-property-name'>Data</span>: <span class='event-property'>Crafty.polygon</span>]</dt><dd>when a new hitbox is assigned</dd>
</dl></p>
<p><h4>See Also</h4></p>
<ul><li><a href=Crafty-polygon.html>Crafty.polygon</a></li></ul>

</div>



<div id='-hit' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>.hit</h2>
<p><code>public Boolean/Array hit(String component)</code> </p>
<dl>
<dt>component</dt><dd>Check collision with entities that has this component</dd>
<dt class='return'>[returns]</dt><dd><code>false</code> if no collision. If a collision is detected, returns an Array of objects that are colliding.</dd>
</dl>

<p>Takes an argument for a component to test collision for. If a collision is found, an array of
every object in collision along with the amount of overlap is passed.</p>
<p>If no collision, will return false. The return collision data will be an Array of Objects with the
type of collision used, the object collided and if the type used was SAT (a polygon was used as the hitbox) then an amount of overlap.\</p>
<pre><code>[{
   obj: [entity],
   type: &quot;MBR&quot; or &quot;SAT&quot;,
   overlap: [number]
}]</code></pre>
<p><code>MBR</code> is your standard axis aligned rectangle intersection (<code>.intersect</code> in the 2D component).
<code>SAT</code> is collision between any convex polygon.</p>

<p><h4>See Also</h4></p>
<ul><li><a href=#-onHit>.onHit</a></li><li><a href=2D.html>2D</a></li></ul>

</div>



<div id='-onHit' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>.onHit</h2>
<p><code>public this .onHit(String component, Function hit[, Function noHit])</code> </p>
<dl>
<dt>component</dt><dd>Component to check collisions for</dd>
<dt>hit</dt><dd>Callback method to execute upon collision with component.  Will be passed the results of the collision check in the same format documented for hit().</dd>
<dt>noHit</dt><dd>Callback method executed once as soon as collision stops</dd>
</dl>

<p>Creates an EnterFrame event calling .hit() each frame.  When a collision is detected the callback will be invoked.</p>

<p><h4>See Also</h4></p>
<ul><li><a href=#-hit>.hit</a></li></ul>

</div>

</div>