<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Crafty - </title>
	<link type="text/css" rel="stylesheet" href="/craftyjs-site.css" />

	<link href='http://fonts.googleapis.com/css?family=Arvo:regular,bold' rel='stylesheet' 	type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel='stylesheet' type='text/css'>
	<link rel="shortcut icon" href="/favicon.ico">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js" type="text/javascript"></script>
	<link rel="stylesheet" href="/github.css"/>
	<script type="text/javascript">

		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-23935213-2']);
		_gaq.push(['_trackPageview']);

		(function () {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

	</script>
</head>
<body>
	<div id = "header-background"> </div>
	<div id = "page-frame">
	<div id="header">
		<nav class="navbar">
  			<div class="container-fluid">
  				<div class="navbar-header">
  					<a class="navbar-brand" href="/"> <img class="logo" src="/images/text-logo.png" /> </a>
  					
				</div>
				<div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li><a href="/">Home</a></li>
						<li><a href="/getting-started/">Getting started</a></li>
						<li><a href="/documentation/">Documentation</a></li>
						<li><a href="/api/">API</a></li>
						<li><a href="https://groups.google.com/forum/#!forum/craftyjs">Forum</a></li>
						<li><a href="/components/">Components</a></li>
						<li class="emph"><a href="/#install">Download</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</div>


	<div id="main">
		<div id="content" class="container">
			

<div id='api-container'>
	

<div id='doc-nav'><ul id='doc-level-one'><li><a href='events.html'>List of Events</a></li><li>2D<ul><li><a href='Crafty-map.html'>Crafty.map</a></li><li><a href='2D.html'>2D</a></li><li><a href='Gravity.html'>Gravity</a></li><li><a href='Crafty-polygon.html'>Crafty.polygon</a></li><li><a href='Crafty-circle.html'>Crafty.circle</a></li><li><a href='Crafty-HashMap.html'>Crafty.HashMap</a></li><li><a href='Collision.html'>Collision</a></li><li><a href='Crafty-diamondIso.html'>Crafty.diamondIso</a></li><li><a href='Crafty-isometric.html'>Crafty.isometric</a></li><li><a href='Crafty-math.html'>Crafty.math</a></li><li><a href='Crafty-math.Vector2D.html'>Crafty.math.Vector2D</a></li><li><a href='Crafty-math.Matrix2D.html'>Crafty.math.Matrix2D</a></li></ul></li><li>Graphics<ul><li><a href='DOM.html'>DOM</a></li><li><a href='Crafty-DOM.html'>Crafty.DOM</a></li><li><a href='Canvas.html'>Canvas</a></li><li><a href='Crafty-canvas.html'>Crafty.canvas</a></li><li><a href='Crafty-assignColor.html'>Crafty.assignColor</a></li><li><a href='Color.html'>Color</a></li><li><a href='Image.html'>Image</a></li><li><a href='Crafty-DrawManager.html'>Crafty.DrawManager</a></li><li><a href='Crafty-pixelart.html'>Crafty.pixelart</a></li><li><a href='Crafty-background.html'>Crafty.background</a></li><li><a href='HTML.html'>HTML</a></li><li><a href='Particles.html'>Particles</a></li><li><a href='Crafty-sprite.html'>Crafty.sprite</a></li><li><a href='Sprite.html'>Sprite</a></li><li><a href='Text.html'>Text</a></li></ul></li><li>Debug<ul><li><a href='DebugCanvas.html'>DebugCanvas</a></li><li><a href='DebugRectangle.html'>DebugRectangle</a></li><li><a href='VisibleMBR.html'>VisibleMBR</a></li><li><a href='DebugPolygon.html'>DebugPolygon</a></li><li><a href='WiredHitBox.html'>WiredHitBox</a></li><li><a href='SolidHitBox.html'>SolidHitBox</a></li></ul></li><li>Animation<ul><li><a href='Tween.html'>Tween</a></li><li><a href='SpriteAnimation.html'>SpriteAnimation</a></li></ul></li><li>Input<ul><li><a href='Crafty-keydown.html'>Crafty.keydown</a></li><li><a href='Crafty-mouseDispatch.html'>Crafty.mouseDispatch</a></li><li><a href='Crafty-touchDispatch.html'>Crafty.touchDispatch</a></li><li><a href='KeyboardEvent.html'>KeyboardEvent</a></li><li><a href='Crafty-eventObject.html'>Crafty.eventObject</a></li><li><a href='Mouse.html'>Mouse</a></li><li><a href='Draggable.html'>Draggable</a></li><li><a href='Keyboard.html'>Keyboard</a></li><li><a href='Multiway.html'>Multiway</a></li><li><a href='Fourway.html'>Fourway</a></li><li><a href='Twoway.html'>Twoway</a></li><li><a href='Crafty-keys.html'>Crafty.keys</a></li><li><a href='Crafty-mouseButtons.html'>Crafty.mouseButtons</a></li></ul></li><li>Core<ul><li><a href='Crafty.html'>Crafty</a></li><li><a href='Crafty Core.html'>Crafty Core</a></li><li><a href='Crafty-extend.html'>Crafty.extend</a></li><li><a href='Crafty-init.html'>Crafty.init</a></li><li><a href='Crafty-getVersion.html'>Crafty.getVersion</a></li><li><a href='Crafty-stop.html'>Crafty.stop</a></li><li><a href='Crafty-pause.html'>Crafty.pause</a></li><li><a href='Crafty-isPaused.html'>Crafty.isPaused</a></li><li><a href='Crafty-e.html'>Crafty.e</a></li><li><a href='Crafty-c.html'>Crafty.c</a></li><li><a href='Crafty-trigger.html'>Crafty.trigger</a></li><li><a href='Crafty-bind.html'>Crafty.bind</a></li><li><a href='Crafty-uniqueBind.html'>Crafty.uniqueBind</a></li><li><a href='Crafty-one.html'>Crafty.one</a></li><li><a href='Crafty-unbind.html'>Crafty.unbind</a></li><li><a href='Crafty-frame.html'>Crafty.frame</a></li><li><a href='Crafty-settings.html'>Crafty.settings</a></li><li><a href='Crafty-clone.html'>Crafty.clone</a></li><li><a href='Crafty-support.html'>Crafty.support</a></li><li><a href='Crafty-stage.html'>Crafty.stage</a></li></ul></li><li>Game Loop<ul><li><a href='Crafty-timer.html'>Crafty.timer</a></li></ul></li><li>Events<ul><li><a href='Crafty-trigger.html'>Crafty.trigger</a></li><li><a href='Crafty-bind.html'>Crafty.bind</a></li><li><a href='Crafty-uniqueBind.html'>Crafty.uniqueBind</a></li><li><a href='Crafty-one.html'>Crafty.one</a></li><li><a href='Crafty-unbind.html'>Crafty.unbind</a></li><li><a href='Crafty-addEvent.html'>Crafty.addEvent</a></li><li><a href='Crafty-removeEvent.html'>Crafty.removeEvent</a></li></ul></li><li>Misc<ul><li><a href='Crafty-device.html'>Crafty.device</a></li><li><a href='Crafty-support.html'>Crafty.support</a></li><li><a href='Crafty-addEvent.html'>Crafty.addEvent</a></li><li><a href='Crafty-removeEvent.html'>Crafty.removeEvent</a></li></ul></li><li>Stage<ul><li><a href='Crafty-background.html'>Crafty.background</a></li><li><a href='Crafty-scene.html'>Crafty.scene</a></li><li><a href='Crafty-viewport.html'>Crafty.viewport</a></li></ul></li><li>Assets<ul><li><a href='Crafty-assets.html'>Crafty.assets</a></li><li><a href='Crafty-paths.html'>Crafty.paths</a></li><li><a href='Crafty-asset.html'>Crafty.asset</a></li><li><a href='Crafty-image_whitelist.html'>Crafty.image_whitelist</a></li><li><a href='Crafty-loader.html'>Crafty.loader</a></li><li><a href='Crafty-removeAssets.html'>Crafty.removeAssets</a></li></ul></li><li>Model<ul><li><a href='Model.html'>Model</a></li></ul></li><li>Scenes<ul><li><a href='Crafty-scene.html'>Crafty.scene</a></li></ul></li><li>Audio<ul><li><a href='Crafty-audio.html'>Crafty.audio</a></li></ul></li><li>Utilities<ul><li><a href='Storage.html'>Storage</a></li><li><a href='Delay.html'>Delay</a></li></ul></li></ul></div>
<div id='doc-content'><h1 id="crafty-viewport">Crafty.viewport</h1>
<p>Viewport is essentially a 2D camera looking at the stage. Can be moved or zoomed, which
in turn will react just like a camera moving in that direction.</p>
<p>Tip: At any given moment, the stuff that you can see is...</p>
<p><code>x</code> between <code>(-Crafty.viewport._x)</code> and <code>(-Crafty.viewport._x + (Crafty.viewport._width / Crafty.viewport._scale))</code></p>
<p><code>y</code> between <code>(-Crafty.viewport._y)</code> and <code>(-Crafty.viewport._y + (Crafty.viewport._height / Crafty.viewport._scale))</code></p>

<h4>Events</h4>
<dl><dt><span class='event-name'>ViewportScroll</span></dt><dd>when the viewport&#39;s x or y coordinates change</dd>
<dt><span class='event-name'>ViewportScale</span></dt><dd>when the viewport&#39;s scale changes</dd>
<dt><span class='event-name'>ViewportResize</span></dt><dd>when the viewport&#39;s dimension&#39;s change</dd>
<dt><span class='event-name'>InvalidateViewport</span></dt><dd>when the viewport changes</dd>
<dt><span class='event-name'>StopCamera</span></dt><dd>when any camera animations should stop, such as at the start of a new animation.</dd>
<dt><span class='event-name'>CameraAnimationDone</span></dt><dd>when a camera animation comes reaches completion</dd>
</dl><div class='doc-contents'><h4>Properties and Methods</h4><ul><li><a href='#Crafty-viewport.clampToEntities'>Crafty.viewport.clampToEntities</a></li><li><a href='#Crafty-viewport.x'>Crafty.viewport.x</a></li><li><a href='#Crafty-viewport.y'>Crafty.viewport.y</a></li><li><a href='#Crafty-viewport._scale'>Crafty.viewport._scale</a></li><li><a href='#Crafty-viewport.bounds'>Crafty.viewport.bounds</a></li><li><a href='#Crafty-viewport.scroll'>Crafty.viewport.scroll</a></li><li><a href='#Crafty-viewport.pan'>Crafty.viewport.pan</a></li><li><a href='#Crafty-viewport.follow'>Crafty.viewport.follow</a></li><li><a href='#Crafty-viewport.centerOn'>Crafty.viewport.centerOn</a></li><li><a href='#Crafty-viewport.zoom'>Crafty.viewport.zoom</a></li><li><a href='#Crafty-viewport.scale'>Crafty.viewport.scale</a></li><li><a href='#Crafty-viewport.mouselook'>Crafty.viewport.mouselook</a></li><li><a href='#Crafty-viewport.init'>Crafty.viewport.init</a></li></ul></div>

<div id='Crafty-viewport.clampToEntities' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.clampToEntities</h2>
<p>Decides if the viewport functions should clamp to game entities.
When set to <code>true</code> functions such as Crafty.viewport.mouselook() will not allow you to move the
viewport over areas of the game that has no entities.
For development it can be useful to set this to false.</p>


</div>



<div id='Crafty-viewport.x' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.x</h2>
<p>Will move the stage and therefore every visible entity along the <code>x</code>
axis in the opposite direction.</p>
<p>When this value is set, it will shift the entire stage. This means that entity
positions are not exactly where they are on screen. To get the exact position,
simply add <code>Crafty.viewport.x</code> onto the entities <code>x</code> position.</p>


</div>



<div id='Crafty-viewport.y' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.y</h2>
<p>Will move the stage and therefore every visible entity along the <code>y</code>
axis in the opposite direction.</p>
<p>When this value is set, it will shift the entire stage. This means that entity
positions are not exactly where they are on screen. To get the exact position,
simply add <code>Crafty.viewport.y</code> onto the entities <code>y</code> position.</p>


</div>



<div id='Crafty-viewport._scale' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport._scale</h2>
<p>This value is the current scale (zoom) of the viewport. When the value is bigger than 1, everything
looks bigger (zoomed in). When the value is less than 1, everything looks smaller (zoomed out). This
does not alter the size of the stage itself, just the magnification of what it shows.</p>
<p>This is a read-only property: Do not set it directly. Instead, use <code>Crafty.viewport.scale(...)</code>
or <code>Crafty.viewport.zoom(...)</code></p>


</div>



<div id='Crafty-viewport.bounds' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.bounds</h2>
<p><p>A rectangle which defines the bounds of the viewport.
It should be an object with two properties, <code>max</code> and <code>min</code>,
which are each an object with <code>x</code> and <code>y</code> properties.</p></p>
<p><p>If this property is null, Crafty uses the bounding box of all the items
on the stage.  This is the initial value.  (To prevent this behavior, set <code>Crafty.viewport.clampToEntities</code> to <code>false</code>)</p></p>
<p><p>If you wish to bound the viewport along one axis but not the other, you can use <code>-Infinity</code> and <code>+Infinity</code> as bounds.</p></p>
<h4> Example </h4>

<p><p>Set the bounds to a 500 by 500 square:</p></p>
<p><pre><code>Crafty.viewport.bounds = {min:{x:0, y:0}, max:{x:500, y:500}};
</code></pre></p>
<p><h4>See Also</h4></p>
<ul><li><a href=Crafty-viewport.clampToEntities.html>Crafty.viewport.clampToEntities</a></li></ul>

</div>



<div id='Crafty-viewport.scroll' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.scroll</h2>
<p><p><code>Crafty.viewport.scroll(String axis, Number val)</code> </p></p>
<dl>
<dt>axis</dt><dd>&#39;x&#39; or &#39;y&#39;</dd>
<dt>val</dt><dd>The new absolute position on the axis</dd>
</dl>

<p><p>Will move the viewport to the position given on the specified axis</p></p>
<h4> Example </h4>

<p><p>Will move the camera 500 pixels right of its initial position, in effect
shifting everything in the viewport 500 pixels to the left.</p></p>
<pre><code>Crafty.viewport.scroll(&#39;_x&#39;, 500);
</code></pre>

</div>



<div id='Crafty-viewport.pan' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.pan</h2>
<p><code>public void Crafty.viewport.pan(Number dx, Number dy, Number time)</code> </p>
<dl>
<dt>Number dx</dt><dd>The distance along the x axis</dd>
<dt>Number dy</dt><dd>The distance along the y axis</dd>
<dt>Number time</dt><dd>The duration in ms for the entire camera movement</dd>
</dl>

<p>Pans the camera a given number of pixels over the specified time</p>


<p></div></p>
<div id='Crafty-viewport.follow' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.follow</h2>
<p><p><code>public void Crafty.viewport.follow(Object target, Number offsetx, Number offsety)</code> </p></p>
<dl>
<dt>Object target</dt><dd>An entity with the 2D component</dd>
<dt>Number offsetx</dt><dd>Follow target should be offsetx pixels away from center</dd>
<dt>Number offsety</dt><dd>Positive puts target to the right of center</dd>
</dl>

<p><p>Follows a given entity with the 2D component. If following target will take a portion of
the viewport out of bounds of the world, following will stop until the target moves away.</p></p>
<h4> Example </h4>

<pre><code>var ent = Crafty.e(&#39;2D, DOM&#39;).attr({w: 100, h: 100:});
Crafty.viewport.follow(ent, 0, 0);
</code></pre>

</div>



<div id='Crafty-viewport.centerOn' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.centerOn</h2>
<p><code>public void Crafty.viewport.centerOn(Object target, Number time)</code> </p>
<dl>
<dt>Object target</dt><dd>An entity with the 2D component</dd>
<dt>Number time</dt><dd>The duration in ms of the camera motion</dd>
</dl>

<p>Centers the viewport on the given entity.</p>


</div>



<div id='Crafty-viewport.zoom' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.zoom</h2>
<p><code>public void Crafty.viewport.zoom(Number amt, Number cent_x, Number cent_y, Number time)</code> </p>
<dl>
<dt>Number amt</dt><dd>amount to zoom in on the target by (eg. 2, 4, 0.5)</dd>
<dt>Number cent_x</dt><dd>the center to zoom on</dd>
<dt>Number cent_y</dt><dd>the center to zoom on</dd>
<dt>Number time</dt><dd>the duration in ms of the entire zoom operation</dd>
</dl>

<p>Zooms the camera in on a given point. amt &gt; 1 will bring the camera closer to the subject
amt &lt; 1 will bring it farther away. amt = 0 will reset to the default zoom level
Zooming is multiplicative. To reset the zoom amount, pass 0.</p>


</div>



<div id='Crafty-viewport.scale' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.scale</h2>
<p><p><code>public void Crafty.viewport.scale(Number amt)</code> </p></p>
<dl>
<dt>Number amt</dt><dd>amount to zoom/scale in on the elements</dd>
</dl>

<p><p>Adjusts the scale (zoom). When <code>amt</code> is 1, it is set to the normal scale,
e.g. an entity with <code>this.w == 20</code> would appear exactly 20 pixels wide.
When <code>amt</code> is 10, that same entity would appear 200 pixels wide (i.e., zoomed in
by a factor of 10), and when <code>amt</code> is 0.1, that same entity would be 2 pixels wide
(i.e., zoomed out by a factor of <code>(1 / 0.1)</code>).</p></p>
<p><p>If you pass an <code>amt</code> of 0, it is treated the same as passing 1, i.e. the scale is reset.</p></p>
<p><p>This method sets the absolute scale, while <code>Crafty.viewport.zoom</code> sets the scale relative to the existing value.</p></p>
<h4> Example </h4>

<p><pre><code>Crafty.viewport.scale(2); // Zoom in -- all entities will appear twice as large.
</code></pre></p>
<p><h4>See Also</h4></p>
<ul><li><a href=Crafty-viewport.zoom.html>Crafty.viewport.zoom</a></li></ul>

</div>



<div id='Crafty-viewport.mouselook' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.mouselook</h2>
<p><code>public void Crafty.viewport.mouselook(Boolean active)</code> </p>
<dl>
<dt>Boolean active</dt><dd>Activate or deactivate mouselook</dd>
</dl>

<p>Toggle mouselook on the current viewport.
Simply call this function and the user will be able to
drag the viewport around.</p>
<p>If the user starts a drag, &quot;StopCamera&quot; will be triggered, which will cancel any existing camera animations.</p>


</div>



<div id='Crafty-viewport.init' class='docblock'>

<a href='#doc-nav' class='doc-top'>Back to top</a><h2>Crafty.viewport.init</h2>
<p><code>public void Crafty.viewport.init([Number width, Number height, String stage_elem])</code> </p>
<p><code>public void Crafty.viewport.init([Number width, Number height, HTMLElement stage_elem])</code> </p>
<dl>
<dt>Number width</dt><dd>Width of the viewport</dd>
<dt>Number height</dt><dd>Height of the viewport</dd>
<dt>String or HTMLElement stage_elem</dt><dd>the element to use as the stage (either its id or the actual element).</dd>
</dl>

<p>Initialize the viewport. If the arguments &#39;width&#39; or &#39;height&#39; are missing, use Crafty.DOM.window.width and Crafty.DOM.window.height (full screen model).</p>
<p>The argument &#39;stage_elem&#39; is used to specify a stage element other than the default, and can be either a string or an HTMLElement.  If a string is provided, it will look for an element with that id and, if none exists, create a div.  If an HTMLElement is provided, that is used directly.  Omitting this argument is the same as passing an id of &#39;cr-stage&#39;.</p>

<p><h4>See Also</h4></p>
<ul><li><a href=Crafty-device.html>Crafty.device</a></li><li><a href=Crafty-DOM.html>Crafty.DOM</a></li><li><a href=Crafty-stage.html>Crafty.stage</a></li></ul>

</div>

</div>
</div>
			
		</div>
	</div>
	<div class="clearer"></div>
	<div id="footer">
		<div id="contact">
			<a href="https://groups.google.com/forum/#!forum/craftyjs">
				<img src="/images/google.png" />
				google groups</a>
			<a href="mailto:starwed@gmail.com">
				<img src="/images/email.png" />
				starwed@gmail.com</a>
			<a href="https://github.com/craftyjs/Crafty">
				<img src="/images/github.png" />
				github</a>
		</div>
		<ul>
			<li><a href="/">Home</a></li>
				<li><a href="/getting-started/">Getting started</a></li>
				<li><a href="/documentation/">Documentation</a></li>
				<li><a href="/api/">API</a></li>
				<li><a href="https://groups.google.com/forum/#!forum/craftyjs">Forum</a></li>
				<li><a href="/modules/">Modules</a></li>
				<li class="emph"><a href="/download/">Download</a></li>
		</ul>
		<p>
			&copy; Crafty 2010-2015. Crafty is distributed under the <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a> or <a href="http://en.wikipedia.org/wiki/GNU_General_Public_License">GPL</a>
			license.
		</p>
	</div>
</div>
</body>
</html>
